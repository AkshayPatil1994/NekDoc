<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>User Files &#8212; Nek5000 17.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '17.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Geometry" href="geometry.html" />
    <link rel="prev" title="Quickstart" href="quickstart.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="user-files">
<span id="id1"></span><h1>User Files<a class="headerlink" href="#user-files" title="Permalink to this headline">¶</a></h1>
<p>Each simulation is defined by three files: the .rea file, the .usr file, and the SIZE file.  In
addition, there is a derived .map file that is generated from the .rea file by running <em>genmap</em>,
which will determine how the elements will be split across processors in the case of a parallel
run.  SIZE controls (at compile time) the polynomial degree used in the simulation, as well as the
space dimension <span class="math">\(d=2\)</span> or <span class="math">\(3\)</span>.</p>
<p>The SESSION.NAME file provides the name and path of the .rea file and the path to it.  It does not
however need to correspond to a .usr file of an identical name. This allows for different test
cases (.usr files) that use the same geometry and boundary conditions (.rea files).</p>
<p>This chapter provides an introduction to the basic files required to set up a Nek5000 simulation.</p>
<div class="section" id="session-file">
<span id="user-files-session"></span><h2>SESSION File<a class="headerlink" href="#session-file" title="Permalink to this headline">¶</a></h2>
<p>To run NEK5000, each simulation must have a SESSION.NAME file. This file is read in by the code and
gives the path to the relevant files describing the structure and parameters of the simulation. The
SESSION.NAME file is a file that contains the name of the simulation and the full path to
supporting files. For example, to run the eddy example from the repository, the SESSION.NAME file
would look like:</p>
<blockquote>
<div>eddy_uv
/home/user_name/Nek5000/short_tests/eddy/</div></blockquote>
</div>
<div class="section" id="case-setup-file-usr">
<span id="user-files-usr"></span><h2>Case Setup File (.usr)<a class="headerlink" href="#case-setup-file-usr" title="Permalink to this headline">¶</a></h2>
<div class="section" id="contents-of-usr-file">
<h3>Contents of .usr File<a class="headerlink" href="#contents-of-usr-file" title="Permalink to this headline">¶</a></h3>
<p>The most important interface to Nek5000 is the set of Fortran subroutines that are contained in the
<em>.usr</em> file.  This file allows direct access to all runtime variables.  Here, the user may
specify spatially varying properties (e.g., viscosity), volumetric heating sources, body forces,
and so forth.  One can also specify arbitrary initial and boundary conditions through the routines
<code class="docutils literal"><span class="pre">useric</span></code> and <code class="docutils literal"><span class="pre">userbc</span></code>.  The routine <code class="docutils literal"><span class="pre">userchk</span></code> allows the user to interrogate the
solution at the end of each timestep for diagnostic purposes.   The <em>.usr</em> files provided in
the <em>Nek5000/short_tests/</em> directory illustrate several of the more common analysis tools.  For
instance, there are utilities for computing the time average of <span class="math">\(u\)</span>, <span class="math">\(u^2\)</span>, etc. so that one
can analyze mean and rms distributions with the postprocessor.  There are routines for computing
the vorticity or the scalar <span class="math">\(\lambda_2\)</span> for vortex identification, and so forth.</p>
</div>
<div class="section" id="routines-in-usr-file">
<h3>Routines in .usr File<a class="headerlink" href="#routines-in-usr-file" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="problem-size-file-size">
<h2>Problem-Size File (SIZE)<a class="headerlink" href="#problem-size-file-size" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="geometry-and-parameters-file-rea">
<h2>Geometry and Parameters File (.rea)<a class="headerlink" href="#geometry-and-parameters-file-rea" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="data-layout">
<h2>Data Layout<a class="headerlink" href="#data-layout" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">User Files</a><ul>
<li><a class="reference internal" href="#session-file">SESSION File</a></li>
<li><a class="reference internal" href="#case-setup-file-usr">Case Setup File (.usr)</a><ul>
<li><a class="reference internal" href="#contents-of-usr-file">Contents of .usr File</a></li>
<li><a class="reference internal" href="#routines-in-usr-file">Routines in .usr File</a></li>
</ul>
</li>
<li><a class="reference internal" href="#problem-size-file-size">Problem-Size File (SIZE)</a></li>
<li><a class="reference internal" href="#geometry-and-parameters-file-rea">Geometry and Parameters File (.rea)</a></li>
<li><a class="reference internal" href="#data-layout">Data Layout</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="quickstart.html" title="previous chapter">Quickstart</a></li>
      <li>Next: <a href="geometry.html" title="next chapter">Geometry</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/user_files.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Paul Fischer, James Lottes,  Stefan Kerkemeier, Oana Marin, Katherine Heisey, Aleks Obabko, Elia Merzari, Yulia Peet, Ronald Rahaman.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="_sources/user_files.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Case Files &mdash; Nek5000 17.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Nek5000 17.0 documentation" href="index.html"/>
        <link rel="next" title="Mesh Generation and Conversion" href="geometry.html"/>
        <link rel="prev" title="Tutorials" href="tutorials.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Nek5000
          

          
          </a>

          
            
            
              <div class="version">
                17.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Case Files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#session-name">SESSION.NAME</a></li>
<li class="toctree-l2"><a class="reference internal" href="#par">par</a></li>
<li class="toctree-l2"><a class="reference internal" href="#re2">re2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usr">usr</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#uservp">uservp()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#userf">userf()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">userf()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#userbc">userbc()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#userchk">userchk()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#userqtl">userqtl()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usrdat">usrdat()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usrdat2">usrdat2()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usrdat3">usrdat3()</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#size">SIZE</a></li>
<li class="toctree-l2"><a class="reference internal" href="#map-ma2">map/ma2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fld-f-05d">fld/f%05d</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#header">Header</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data">Data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="geometry.html">Mesh Generation and Conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="perf.html">Performance and Memory Considerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="theory.html">Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Appendices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Nek5000</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Case Files</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/user_files.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="case-files">
<span id="user-files"></span><h1>Case Files<a class="headerlink" href="#case-files" title="Permalink to this headline">¶</a></h1>
<p>Each simulation is defined by six case files:</p>
<ul class="simple">
<li>SESSION.NAME</li>
<li>par</li>
<li>re2</li>
<li>usr</li>
<li>SIZE</li>
<li>map/ma2</li>
<li>fld/f%05d</li>
</ul>
<div class="section" id="session-name">
<span id="user-files-session"></span><h2>SESSION.NAME<a class="headerlink" href="#session-name" title="Permalink to this headline">¶</a></h2>
<p>To run Nek5000, each simulation must have a SESSION.NAME file. This file is read in by the code and
gives the path to the relevant files describing the structure and parameters of the simulation. The
SESSION.NAME file is a file that contains the name of the simulation and the full path to
supporting files. For example, to run the eddy example from the repository, the SESSION.NAME file
would look like:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>eddy_uv
/home/user_name/Nek5000/short_tests/eddy/
</pre></div>
</div>
</div>
<div class="section" id="par">
<span id="user-files-par"></span><h2>par<a class="headerlink" href="#par" title="Permalink to this headline">¶</a></h2>
<p>The simulation paramaters are defined in the <code class="docutils literal"><span class="pre">.par</span></code> file.
The keys are grouped in different sections and a specific value is assigned to each key.
The <code class="docutils literal"><span class="pre">.par</span></code> file follows the structure exemplified below.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>#
# nek parameter file
#

[SECTION]
key = value
...

[SECTION]
key = value
...
</pre></div>
</div>
<p>The sections are:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">GENERAL</span></code> (mandatory)</li>
<li><code class="docutils literal"><span class="pre">PROBLEMTYPE</span></code></li>
<li><code class="docutils literal"><span class="pre">MESH</span></code></li>
<li><code class="docutils literal"><span class="pre">VELOCITY</span></code></li>
<li><code class="docutils literal"><span class="pre">PRESSURE</span></code> (required for velocity)</li>
<li><code class="docutils literal"><span class="pre">TEMPERATURE</span></code></li>
<li><code class="docutils literal"><span class="pre">SCALAR%%</span></code></li>
<li><code class="docutils literal"><span class="pre">CVODE</span></code></li>
</ul>
<p>When scalars are used, the keys of each scalar are defined under the section <code class="docutils literal"><span class="pre">SCALAR%%</span></code> varying
between <code class="docutils literal"><span class="pre">SCALAR01</span></code> and <code class="docutils literal"><span class="pre">SCALAR99</span></code>. The descripton of the keys of each section is given in the
following tables (all keys/values are case insensitive). The value assigned to each key can be a
user input (e.g. a &lt;real&gt; value) or one of the avaliable options listed in the tables below.
Values in parentheses denote the default value.</p>
<span id="tab-generalparams"></span><table border="1" class="docutils" id="id3">
<caption><span class="caption-number">Table 1 </span><span class="caption-text"><code class="docutils literal"><span class="pre">GENERAL</span></code> keys in the <code class="docutils literal"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="28%" />
<col width="19%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head"><div class="first last line-block">
<div class="line">Value(s)</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">startFrom</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;string&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Absolute/relative path of the field file</div>
<div class="line">to restart the simulation from</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">stopAt</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(numSteps)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">runTime</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Stop mode</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">endTime</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Final physical time at which we want to</div>
<div class="line">our simulation to stop</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">numSteps</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Number of time steps instead of specifying</div>
<div class="line">final physical time</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">dt</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Specifies the step size or in case of a</div>
<div class="line">a variable time step the maximum step size</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">variableDT</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(no)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">yes</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Controls if the step size will be adjusted</div>
<div class="line">to match the targetCFL</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">targetCFL</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Sets stability/target CFL number for</div>
<div class="line">OIFS or variable time steps</div>
<div class="line">(fixed to 0.5 for standard extrapolation</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">writeControl</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(timeStep)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">runTime</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Specifies whether checkpointing is based</div>
<div class="line">on number of time steps or physical time</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">writeInterval</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Checkpoint frequency in time steps or</div>
<div class="line">physical time</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">filtering</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(none)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">explicit</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">hpfrt</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Specifies the filtering method</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">filterCutoffRatio</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Ratio of modeal modes not affected</div>
<div class="line">Use i.e. for stabilization or LES 0.9/0.65</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">filterWeight</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Sets the filter strength of transfer</div>
<div class="line">function of the last mode (explicit) or the</div>
<div class="line">relaxation parameter in case of hpfrt</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">writeDoublePrecision</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">no</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">(yes)</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Sets the precision of the field files</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">writeNFiles</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(1)</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Sets the number of output files</div>
<div class="line">By default a parallel shared file is used</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">dealiasing</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">no</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">(yes)</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Enable/diasble over-integration</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">timeStepper</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">BDF1</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">(BDF2)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">BDF3</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Time integration order</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">extrapolation</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(standard)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">OIFS</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Extrapolation method</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">optLevel</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(2)</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Optimization level</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">logLevel</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(2)</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Verbosity level</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">userParam%%</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">User parameter (can be accessed through</div>
<div class="line">uparam(%) array in <code class="docutils literal"><span class="pre">.usr</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
<span id="tab-probtypeparams"></span><table border="1" class="docutils" id="id4">
<caption><span class="caption-number">Table 2 </span><span class="caption-text"><code class="docutils literal"><span class="pre">PROBLEMTYPE</span></code> keys in the <code class="docutils literal"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="28%" />
<col width="21%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head"><div class="first last line-block">
<div class="line">Value(s)</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">equation</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(incompNS)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">lowMachNS</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">steadyStokes</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">incompLinNS</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">incompLinAdjNS</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">incompMHD</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">compNS</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Specifies equation type</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">axiSymmetry</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(no)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">yes</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Axisymmetric problem</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">swirl</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(no)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">yes</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Enable axisymmetric azimuthal velocity</div>
<div class="line">component (stored in temperature field</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">cyclicBoundaries</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(no)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">yes</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Sets cyclic periodic boundaries</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">numberOfPerturbations</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(1)</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Number of perturbations for linearized NS</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">solveBaseFlow</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(no)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">yes</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Solve for base flow in case of linearized NS</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">variableProperties</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(no)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">yes</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Enable variable transport properties</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">stressFormulation</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(no)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">yes</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Enable stress formulation</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">dp0dt</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(no)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">yes</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Enable time-varying thermodynamic pressure</div>
</div>
</td>
</tr>
</tbody>
</table>
<span id="tab-fieldparams"></span><table border="1" class="docutils" id="id5">
<caption><span class="caption-number">Table 3 </span><span class="caption-text"><code class="docutils literal"><span class="pre">COMMON</span></code> keys for all field variables in the <code class="docutils literal"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="26%" />
<col width="18%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head"><div class="first last line-block">
<div class="line">Value(s)</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">residualTol</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Residual tolerance used by solver (not for CVODE)</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">residualProj</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(no)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">yes</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Controls the residual projection</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">writeToFieldFile</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">no</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">(yes)</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Controls if fields will be written on output</div>
</div>
</td>
</tr>
</tbody>
</table>
<span id="tab-meshparams"></span><table border="1" class="docutils" id="id6">
<caption><span class="caption-number">Table 4 </span><span class="caption-text"><code class="docutils literal"><span class="pre">MESH</span></code> keys in the <code class="docutils literal"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="26%" />
<col width="18%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head"><div class="first last line-block">
<div class="line">Value(s)</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">motion</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(none)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">user</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">elasticity</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Mesh motion solver</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">viscosity</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(0.4)</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Diffusivity for elasticity solver</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">numberOfBCFields</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(nfields)</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Number of field variables which have a boundary</div>
<div class="line-block">
<div class="line">condition in <code class="docutils literal"><span class="pre">.re2</span></code> file</div>
</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">firstBCFieldIndex</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(1</span> <span class="pre">or</span> <span class="pre">2)</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Field index of the first BC specified in <code class="docutils literal"><span class="pre">.re2</span></code></div>
<div class="line">file</div>
</div>
</td>
</tr>
</tbody>
</table>
<span id="tab-velocityparams"></span><table border="1" class="docutils" id="id7">
<caption><span class="caption-number">Table 5 </span><span class="caption-text"><code class="docutils literal"><span class="pre">VELOCITY</span></code> keys in the <code class="docutils literal"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="29%" />
<col width="16%" />
<col width="55%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head"><div class="first last line-block">
<div class="line">Value(s)</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">viscosity</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Dynamic viscosity</div>
<div class="line">A negative value sets the Reynolds number</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">density</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Density</div>
</div>
</td>
</tr>
</tbody>
</table>
<span id="tab-pressureparams"></span><table border="1" class="docutils" id="id8">
<caption><span class="caption-number">Table 6 </span><span class="caption-text"><code class="docutils literal"><span class="pre">PRESSURE</span></code> keys in the <code class="docutils literal"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="28%" />
<col width="20%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head"><div class="first last line-block">
<div class="line">Value(s)</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">preconditioner</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(semg_xxt)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">semg_amg</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Preconditioning method</div>
<div class="line">First time usage of AMG will write three</div>
<div class="line">dump files to disc. Subsequently please run</div>
<div class="line">the amg_hypre tool to create the setup files</div>
<div class="line">required for the AMG solver initialization</div>
</div>
</td>
</tr>
</tbody>
</table>
<span id="id1"></span><table border="1" class="docutils" id="id9">
<caption><span class="caption-number">Table 7 </span><span class="caption-text"><code class="docutils literal"><span class="pre">COMMON</span></code> keys for temperature and scalar fields in the <code class="docutils literal"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id9" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="30%" />
<col width="17%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head"><div class="first last line-block">
<div class="line">Value(s)</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">solver</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(helm)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">cvode</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">none</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Solver for scalar</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">advection</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">no</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">(yes)</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Controls if advection is present</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">absoluteTol</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Absolute tolerance used by CVODE</div>
</div>
</td>
</tr>
</tbody>
</table>
<span id="tab-temperatureparams"></span><table border="1" class="docutils" id="id10">
<caption><span class="caption-number">Table 8 </span><span class="caption-text"><code class="docutils literal"><span class="pre">TEMPERATURE</span></code> keys in the <code class="docutils literal"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id10" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="30%" />
<col width="16%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head"><div class="first last line-block">
<div class="line">Value(s)</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ConjugatedHeatTransfer</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(no)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">yes</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Controls conjugate heat transfer</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">conductivity</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Thermal conductivity</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">rhoCp</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Product of density and heat capacity</div>
</div>
</td>
</tr>
</tbody>
</table>
<span id="tab-scalarparams"></span><table border="1" class="docutils" id="id11">
<caption><span class="caption-number">Table 9 </span><span class="caption-text"><code class="docutils literal"><span class="pre">SCALAR%%</span></code> keys in the <code class="docutils literal"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id11" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="30%" />
<col width="19%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head"><div class="first last line-block">
<div class="line">Value(s)</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">density</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Density</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">diffusivity</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Diffusivity</div>
</div>
</td>
</tr>
</tbody>
</table>
<span id="tab-cvodeparams"></span><table border="1" class="docutils" id="id12">
<caption><span class="caption-number">Table 10 </span><span class="caption-text"><code class="docutils literal"><span class="pre">CVODE</span></code> keys in the <code class="docutils literal"><span class="pre">.par</span></code> file</span><a class="headerlink" href="#id12" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="30%" />
<col width="18%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head"><div class="first last line-block">
<div class="line">Value(s)</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">relativeTol</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Relative tolerance (applies to all scalars)</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">stiff</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">no</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">(yes)</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Controls if BDF or Adams Moulton is used</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">preconditioner</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">(none)</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">user</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Preconditioner method</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">dtMax</span></code></td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">&lt;real&gt;</span></code></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Maximum internal step size</div>
<div class="line">Controls splitting error of velocity</div>
<div class="line">scalar coupling (e.g. set to 1-4 dt)</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="re2">
<h2>re2<a class="headerlink" href="#re2" title="Permalink to this headline">¶</a></h2>
<p>Stores the mesh and boundary condition.
TODO: Add more details</p>
</div>
<div class="section" id="usr">
<span id="user-files-usr"></span><h2>usr<a class="headerlink" href="#usr" title="Permalink to this headline">¶</a></h2>
<p>This file implements the the user interface to Nek5000. What follows is a brief description of the available
subroutines.</p>
<div class="section" id="uservp">
<h3>uservp()<a class="headerlink" href="#uservp" title="Permalink to this headline">¶</a></h3>
<p>This function can be used  to specify customized or solution dependent material
properties.</p>
<p>Example:</p>
<div class="highlight-fortran"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">ifield</span><span class="p">.</span><span class="n">eq</span><span class="p">.</span><span class="mi">1</span><span class="p">)</span> <span class="k">then</span>
<span class="k">   </span><span class="n">udiff</span>  <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="nb">exp</span><span class="p">(</span><span class="o">-</span><span class="n">b</span><span class="o">*</span><span class="n">temp</span><span class="p">)</span> <span class="c">! dynamic viscosity</span>
   <span class="n">utrans</span> <span class="o">=</span> <span class="mf">1.0</span>              <span class="c">! density</span>
<span class="k">else if</span> <span class="p">(</span><span class="n">ifield</span><span class="p">.</span><span class="n">eq</span><span class="p">.</span><span class="mi">2</span><span class="p">)</span> <span class="k">then</span>
<span class="k">   </span><span class="n">udiff</span>  <span class="o">=</span> <span class="mf">1.0</span>              <span class="c">! conductivity</span>
   <span class="n">utrans</span> <span class="o">=</span> <span class="mf">1.0</span>              <span class="c">! rho*cp</span>
<span class="n">endif</span>
</pre></div>
</div>
</div>
<div class="section" id="userf">
<h3>userf()<a class="headerlink" href="#userf" title="Permalink to this headline">¶</a></h3>
<p>This functions sets the source term (which will be subsequently be multiplied by
the density) for the momentum equation.</p>
<p>Example:</p>
<div class="highlight-fortran"><div class="highlight"><pre><span></span><span class="k">parameter</span><span class="p">(</span><span class="n">g</span> <span class="o">=</span> <span class="mf">9.81</span><span class="p">)</span>

<span class="n">ffx</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">ffy</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">ffz</span> <span class="o">=</span> <span class="o">-</span><span class="n">g</span> <span class="c">! gravitational acceleration</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>userf()<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>This functions sets the source term for the scalar equation.</p>
</div>
<div class="section" id="userbc">
<h3>userbc()<a class="headerlink" href="#userbc" title="Permalink to this headline">¶</a></h3>
<p>This functions sets boundary conditions. Note, this function is only called
for special boundary condition types and only for points on the boundary surface.</p>
</div>
<div class="section" id="userchk">
<h3>userchk()<a class="headerlink" href="#userchk" title="Permalink to this headline">¶</a></h3>
<p>This is a general purpose function that gets executed before the time stepper and after every time
step.</p>
</div>
<div class="section" id="userqtl">
<h3>userqtl()<a class="headerlink" href="#userqtl" title="Permalink to this headline">¶</a></h3>
<p>This function can be used  to specify a cutomzized thermal diveregence for the low Mach solver.
step.</p>
</div>
<div class="section" id="usrdat">
<h3>usrdat()<a class="headerlink" href="#usrdat" title="Permalink to this headline">¶</a></h3>
<p>This function can be used to modify the element vertices.</p>
</div>
<div class="section" id="usrdat2">
<h3>usrdat2()<a class="headerlink" href="#usrdat2" title="Permalink to this headline">¶</a></h3>
<p>This function can be used to modify the spectral element mesh.</p>
</div>
<div class="section" id="usrdat3">
<h3>usrdat3()<a class="headerlink" href="#usrdat3" title="Permalink to this headline">¶</a></h3>
<p>This function can be used to initialize case/user specific data.</p>
</div>
</div>
<div class="section" id="size">
<h2>SIZE<a class="headerlink" href="#size" title="Permalink to this headline">¶</a></h2>
<p>SIZE file defines the problem size, i.e. spatial points at which the solution is to be evaluated within each element, number of elements per processor etc.
The SIZE file governs the memory allocation for most of the arrays
in Nek5000, with the exception of those required by the C utilities.
The <em>basic</em> parameters of interest in SIZE are:</p>
<ul class="simple">
<li><strong>ldim</strong> = 2 or 3.  This must be set to 2 for two-dimensional or axisymmetric simulations  (the latter only partially supported) or to 3 for three-dimensional simulations.</li>
<li><strong>lx1</strong> controls the polynomial order of the solution, <span class="math">\(N = {\tt lx1-1}\)</span>.</li>
<li><strong>lxd</strong> controls the polynomial order of the (over-)integration/dealiasing. Strictly speaking <span class="math">\({\tt lxd=3 * lx1/2}\)</span> is required but often smaller values are good enough.</li>
<li><strong>lx2</strong> = <code class="docutils literal"><span class="pre">lx1</span></code> or <code class="docutils literal"><span class="pre">lx1-2</span></code> and is an approximation order for pressure that determines the formulation for the Navier-Stokes  solver (i.e., the choice between the <span class="math">\(\mathbb{P}_N - \mathbb{P}_N\)</span> or <span class="math">\(\mathbb{P}_N - \mathbb{P}_{N-2}\)</span> spectral-element methods).</li>
<li><strong>lelg</strong>, an upper bound on the total number of elements in your mesh.</li>
<li><strong>lpmax</strong>, a maximum number of processors that can be used</li>
<li><strong>lpmin</strong>, a minimum number of processors that can be used (see also  <strong>Memory Requirements</strong>).</li>
<li><strong>ldimt</strong>, an upper bound on a number of auxilary fields to solve (temperature + other scalars, minimum is 1).</li>
</ul>
<p>The <em>optional</em>
upper bounds on parameters in SIZE are (minimum being 1 unless otherwise noted):</p>
<ul class="simple">
<li><strong>lhis</strong>, a maximum history (i.e. monitoring) points.</li>
<li><strong>maxobj</strong>, a maximum number of objects.</li>
<li><strong>lpert</strong>, a maximum perturbations.</li>
<li><strong>toteq</strong>, a maximum number of conserved scalars in CMT (minimum could be 0).</li>
<li><strong>nsessmax</strong>, a maximum number of (ensemble-average) sessions.</li>
<li><strong>lxo</strong>, a maximum number of points per element for field file output (<span class="math">\({\tt lxo \geq lx1}\)</span>).</li>
<li><strong>lelx</strong>, <strong>lely</strong>, <strong>lelz</strong>, a maximum number of element in each direction for global tensor product solver and/or dimentions.</li>
<li><strong>mxprev</strong>, a maximum dimension of projection space (e.g. 20).</li>
<li><strong>lgmres</strong>, a maximum dimension of Krylov space (e.g. 30).</li>
<li><strong>lorder</strong>, a maximum order of temporal discretization (minimum is2 see also characteristic/OIFS method).</li>
<li><strong>lelt</strong> determines the maximum number of elements <em>per processor</em> (should be not smaller than nelgt/lpmin, e.g. lelg/lpmin+1).</li>
<li><strong>lx1m</strong>, a polynomial order for mesh solver that should be equal to lx1 in case of ALE and in case of stress-formulation (=1 otherwise).</li>
<li><strong>lbelt</strong> determines the maximum number of elements per processor for MHD solver that should be equalt to lelt (=1 otherwise).</li>
<li><strong>lpelt</strong> determines the maximum number of elements per processor for linear stability solver that should be equalt to lelt (=1 otherwise).</li>
<li><strong>lcvelt</strong> determines the maximum number of elements per processor for CVODE solver that should be equalt to lelt (=1 otherwise).</li>
<li><strong>lfdm</strong> equals to 1 for global tensor product solver (that uses fast diagonalization method) being 0 otherwise.</li>
</ul>
<p>Note that one also need to include the following line to SIZE file:</p>
<div class="highlight-fortran"><div class="highlight"><pre><span></span><span class="k">include</span> <span class="s1">&#39;SIZE.inc&#39;</span>
</pre></div>
</div>
<p>that defines addional internal parameters.</p>
</div>
<div class="section" id="map-ma2">
<h2>map/ma2<a class="headerlink" href="#map-ma2" title="Permalink to this headline">¶</a></h2>
<p>TODO: Add more details</p>
</div>
<div class="section" id="fld-f-05d">
<h2>fld/f%05d<a class="headerlink" href="#fld-f-05d" title="Permalink to this headline">¶</a></h2>
<p>TODO: Add fld details</p>
<p>The binary <code class="docutils literal"><span class="pre">.f%05d</span></code> file format is used to write and read data both in serial and parallel
in Nek5000.</p>
<p>The file is composed of:</p>
<blockquote>
<div><ul class="simple">
<li>header</li>
<li>mesh data</li>
<li>field data</li>
<li>bounding box data</li>
</ul>
</div></blockquote>
<p>We will go through each of these categories and give a description of its
composition.</p>
<div class="section" id="header">
<h3>Header<a class="headerlink" href="#header" title="Permalink to this headline">¶</a></h3>
<p>The header provides structural information about the stored data that is needed
to parse it correctly. The header is composed of 11 values in ASCII format. It
has a fixed size of 132 bytes and starts with the string <code class="docutils literal"><span class="pre">#std</span></code>. All
header entries are padded to the right. After the header with 132 bytes, 4 bytes
follow that determine the endianess of the binary file.  It is the binary
representation of the number 6.54321 either in little or big endian.</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="12%" />
<col width="17%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Entry</th>
<th class="head">Padding</th>
<th class="head">Name</th>
<th class="head">Short Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>2</td>
<td><code class="docutils literal"><span class="pre">wdsizo</span></code></td>
<td>sets the precision to 4 or 8</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>3</td>
<td><code class="docutils literal"><span class="pre">nx</span></code></td>
<td>number of coordinates in x direction</td>
</tr>
<tr class="row-even"><td>2</td>
<td>3</td>
<td><code class="docutils literal"><span class="pre">ny</span></code></td>
<td>number of coordinates in y direction</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>3</td>
<td><code class="docutils literal"><span class="pre">nz</span></code></td>
<td>number of coordinates in z direction</td>
</tr>
<tr class="row-even"><td>5</td>
<td>11</td>
<td><code class="docutils literal"><span class="pre">nelo</span></code></td>
<td>number of elements</td>
</tr>
<tr class="row-odd"><td>6</td>
<td>11</td>
<td><code class="docutils literal"><span class="pre">nelgt</span></code></td>
<td><span class="red">—-</span></td>
</tr>
<tr class="row-even"><td>7</td>
<td>21</td>
<td><code class="docutils literal"><span class="pre">time</span></code></td>
<td>time stamp</td>
</tr>
<tr class="row-odd"><td>8</td>
<td>10</td>
<td><code class="docutils literal"><span class="pre">iostep</span></code></td>
<td>time step</td>
</tr>
<tr class="row-even"><td>9</td>
<td>7</td>
<td><code class="docutils literal"><span class="pre">fid0</span></code></td>
<td><span class="red">field id</span></td>
</tr>
<tr class="row-odd"><td>10</td>
<td>7</td>
<td><code class="docutils literal"><span class="pre">nfileoo</span></code></td>
<td><span class="red">number of files</span></td>
</tr>
<tr class="row-even"><td>11</td>
<td>4</td>
<td><code class="docutils literal"><span class="pre">rdcode</span></code></td>
<td>Fields written</td>
</tr>
</tbody>
</table>
<p>Example of a header::</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1">#std 4  6  6  1         36         36  0.1000000000000E+03     10000     0      1 XUP</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">wdsize</span></code> sets the precision of the floating point numbers in the file. This
is either 4 bytes for floats or 8 bytes for double precision.</p>
<p><code class="docutils literal"><span class="pre">nx</span></code>, <code class="docutils literal"><span class="pre">ny</span></code> and <code class="docutils literal"><span class="pre">nz</span></code> set the number of coordinates in  <span class="math">\(x\)</span>, <span class="math">\(y\)</span> and <span class="math">\(z\)</span>
direction for each element (polynomial order), respectively. <code class="docutils literal"><span class="pre">nelo</span></code> sets
the number of total elements on the mesh.</p>
<p><code class="docutils literal"><span class="pre">time</span></code> is the simulation time while <code class="docutils literal"><span class="pre">iostep</span></code> is the time step when the file was written.</p>
<p><code class="docutils literal"><span class="pre">rdcode</span></code> determines which fields are contained in the file:</p>
<blockquote>
<div><ul class="simple">
<li>X: Geometry</li>
<li>U: Velocity</li>
<li>P: Pressure</li>
<li>T: Temperature</li>
<li>S: Passive scalar</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="data">
<h3>Data<a class="headerlink" href="#data" title="Permalink to this headline">¶</a></h3>
<p>The data field begins after the first 136 bytes of the file. The values are
stored unrolled for each element and for each direction.
Example code for reading the geometry field in python:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">iel</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nelo</span><span class="p">):</span>
    <span class="n">x</span><span class="o">=</span><span class="n">ifilebuf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">nxyzo8</span><span class="o">*</span><span class="n">wdsizo</span><span class="p">)</span>
    <span class="n">xup</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">nxyzo8</span><span class="o">*</span><span class="n">c</span><span class="p">,</span><span class="n">x</span><span class="p">),</span><span class="n">dtype</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
    <span class="n">xfield</span><span class="p">[</span><span class="n">iel</span><span class="p">,:]</span><span class="o">=</span><span class="n">xup</span>
    <span class="n">y</span><span class="o">=</span><span class="n">ifilebuf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">nxyzo8</span><span class="o">*</span><span class="n">wdsizo</span><span class="p">)</span>
    <span class="n">yup</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">nxyzo8</span><span class="o">*</span><span class="n">c</span><span class="p">,</span><span class="n">y</span><span class="p">),</span><span class="n">dtype</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
    <span class="n">yfield</span><span class="p">[</span><span class="n">iel</span><span class="p">,:]</span><span class="o">=</span><span class="n">yup</span>
    <span class="k">if</span> <span class="n">if3d</span><span class="p">:</span>
        <span class="n">z</span><span class="o">=</span><span class="n">ifilebuf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">nxyzo8</span><span class="o">*</span><span class="n">wdsizo</span><span class="p">)</span>
        <span class="n">zup</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">nxyzo8</span><span class="o">*</span><span class="n">c</span><span class="p">,</span><span class="n">z</span><span class="p">),</span><span class="n">dtype</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
        <span class="n">zfield</span><span class="p">[</span><span class="n">iel</span><span class="p">,:]</span><span class="o">=</span><span class="n">zup</span>
</pre></div>
</div>
<p>TODO: Add more details</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="geometry.html" class="btn btn-neutral float-right" title="Mesh Generation and Conversion" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tutorials.html" class="btn btn-neutral" title="Tutorials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2017, UCHICAGO ARGONNE, LLC.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'17.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>